//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table User {
  id Int [pk, increment]
  email String [unique, not null]
  password String [not null]
  firstName String
  lastName String
  role Role [not null, default: 'USER']
  reportingTo User
  reportingToId Int [unique]
  reportingBy User
  profile Profile
  Schedule Schedule [not null]
  CaseLog CaseLog [not null]
  Doctor Doctor
}

Table Hospital {
  id Int [pk, increment]
  name String [not null]
  address String [not null]
  doctors HospitalToDoctor [not null]
}

Table Doctor {
  id Int [pk, increment]
  title String [not null]
  user User [not null]
  userId Int [unique, not null]
  caseLog CaseLog [not null]
  specialties Specialty[] [not null]
  hospitals HospitalToDoctor [not null]
  divisions Division[] [not null]
}

Table HospitalToDoctor {
  hospital Hospital [not null]
  hospitalId Int [not null]
  doctor Doctor [not null]
  doctorId Int [not null]

  indexes {
    (hospitalId, doctorId) [pk]
  }
}

Table Profile {
  id Int [pk, increment]
  mobile String [not null]
  address Address
  addressId Int
  preferredLanguage String [not null]
  user User [not null]
  userId Int [unique, not null]
}

Table Address {
  id Int [pk, increment]
  street String
  city String
  state String
  zip String
  country String [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  profiles Profile [not null]
}

Table Schedule {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  subject String [not null]
  location String
  time String
  endDate DateTime [not null]
  startDate DateTime [not null]
  scheduleType ScheduleType [not null]
  user User [not null]
  userId Int [not null]
  planCall PlanCall
  caseLog CaseLog
  deleted DateTime
}

Table PlanCall {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  outcome String
  type String
  description String
  topics String
  schedule Schedule [not null]
  scheduleId String [unique, not null]
  deleted DateTime
}

Table CaseLog {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  account User [not null]
  accountId Int [not null]
  doctor Doctor [not null]
  doctorId Int [not null]
  photoUrl String
  productsInvoice ProductsInvoice
  productsInvoiceId String [unique, not null]
  schedule Schedule [not null]
  scheduleId String [unique, not null]
  deleted DateTime
}

Table ProductsInvoice {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  products Product [not null]
  caseLog CaseLog
}

Table Product {
  name String [pk]
  quantity Int [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  productsInvoice ProductsInvoice
  productsInvoiceId String
}

Enum ScheduleType {
  CASE_LOG
  PLAN_CALL
}

Enum Role {
  DOCTOR
  USER
}

Enum Specialty {
  Orthopedics
  Surgery
  Urology
  Pediatrics
  Cardiology
  Neurosurgery
  Neurology
  Dermatology
  Radiology
}

Enum Division {
  Endoscopy
  Neuromodulation
  Interventional_Cardiology
  Peripheral_Intervention
  Cardiac_Rhythm_Management
  Urology_And_Pelvic_Health
}

Enum TopicsOfInterest {
  Endoscopy
  Neuromodulation
  Interventional_Cardiology
  Peripheral_Intervention
  Cardiac_Rhythm_Management
  Urology_And_Pelvic_Health
}

Ref: User.reportingToId - User.id

Ref: Doctor.userId - User.id [delete: Cascade]

Ref: HospitalToDoctor.hospitalId > Hospital.id [delete: Cascade]

Ref: HospitalToDoctor.doctorId > Doctor.id [delete: Cascade]

Ref: Profile.addressId > Address.id

Ref: Profile.userId - User.id [delete: Cascade]

Ref: Schedule.userId > User.id

Ref: PlanCall.scheduleId - Schedule.id

Ref: CaseLog.accountId > User.id

Ref: CaseLog.doctorId > Doctor.id

Ref: CaseLog.productsInvoiceId - ProductsInvoice.id

Ref: CaseLog.scheduleId - Schedule.id

Ref: Product.productsInvoiceId > ProductsInvoice.id